sub init()
    m.buttonGroup.buttons = ["Login"]
    m.buttonGroup.observeField("buttonSelected", "onButtonPress")
end sub

function onScreenOpen(context = Invalid as Dynamic) as Dynamic
    return promises.resolve(Invalid)
end function

function onRouteUpdate(event = {} as Object) as Dynamic
    return promises.resolve(Invalid)
end function

function beforeScreenClose(context = Invalid as Dynamic) as Dynamic
    return promises.resolve(Invalid)
end function

function handleFocus(data as Object) as Boolean
    if data.routerFocused then
        return m.buttonGroup.setFocus(true)
    end if

    return false
end function


sub onButtonPress(event as Object)
    button = event.getData()
    navigateTo = Invalid
    if button = 0 then
        m.global.AuthManager.isLoggedIn = true
        navigateTo = m.top.router@.navigateTo("/shows")
    end if
end sub
